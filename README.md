# üé§ Ukrainian Audio Transcription API

**–õ–æ–∫–∞–ª—å–Ω–∏–π API –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –∞—É–¥—ñ–æ/–≤—ñ–¥–µ–æ –∑ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –¥–∏–∫—Ç–æ—Ä—ñ–≤**

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-green.svg)](https://fastapi.tiangolo.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üéØ **–õ–æ–∫–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞** - –≤—Å—ñ –¥–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ
- üá∫üá¶ **–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞** - –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏
- üé§ **–î—ñ–∞—Ä–∏–∑–∞—Ü—ñ—è** - –ø—Ä–æ—Å—Ç–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–∏–∫—Ç–æ—Ä—ñ–≤ (–û–ø–µ—Ä–∞—Ç–æ—Ä/–ö–ª—ñ—î–Ω—Ç)
- ‚ö° **–í–∏—Å–æ–∫–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è faster-whisper
- üîß **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –∞—É–¥—ñ–æ/–≤—ñ–¥–µ–æ
- üåê **REST API** - –ø—Ä–æ—Å—Ç–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- üì± **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∑—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone https://github.com/WarmingZ/transcription-api.git
cd transcription-api
```

### 2Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install -y python3 python3-pip python3-venv ffmpeg libsndfile1 libsndfile1-dev

# macOS
brew install ffmpeg libsndfile
```

### 3Ô∏è‚É£ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# –∞–±–æ
venv\Scripts\activate     # Windows
```

### 4Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

### 5Ô∏è‚É£ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
```bash
python download_models.py
```

### 6Ô∏è‚É£ –ó–∞–ø—É—Å–∫ API
```bash
python main.py
```

**–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8000`** üåê

## üìñ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

–î–ª—è –ø–æ–≤–Ω–æ—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –¥–∏–≤—ñ—Ç—å—Å—è [SETUP.md](SETUP.md)

## üéØ API Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å |
|----------|-------|------|
| `/transcribe` | POST | –ü—Ä–æ—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è |
| `/transcribe-with-diarization` | POST | –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –∑ –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é |
| `/health` | GET | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Ä–≤—ñ—Å—É |
| `/docs` | GET | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API |
| `/` | GET | –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å |

## üí° –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```bash
# –ü—Ä–æ—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
curl -X POST "http://localhost:8000/transcribe" \
  -F "file=@audio.mp3" \
  -F "language=uk"

# –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –∑ –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é
curl -X POST "http://localhost:8000/transcribe-with-diarization" \
  -F "file=@audio.mp3" \
  -F "language=uk"
```

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# API –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
export API_KEY="your-secret-key"

# –†–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª—ñ (tiny, base, small, medium, large)
export MODEL_SIZE="small"
```

### –ú–æ–¥–µ–ª—ñ Whisper
- **tiny** - –Ω–∞–π—à–≤–∏–¥—à–∞, –Ω–∞–π–º–µ–Ω—à–∞ —è–∫—ñ—Å—Ç—å (~0.1x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É)
- **base** - —à–≤–∏–¥–∫–∞, –±–∞–∑–æ–≤–∞ —è–∫—ñ—Å—Ç—å (~0.2x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É)
- **small** - –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ (~0.3x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É) ‚≠ê **—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ**
- **medium** - –≤–∏—Å–æ–∫–∞ —è–∫—ñ—Å—Ç—å (~0.5x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É)
- **large** - –Ω–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å (~1.0x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É)

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
transcription-api/
‚îú‚îÄ‚îÄ main.py                 # FastAPI –¥–æ–¥–∞—Ç–æ–∫
‚îú‚îÄ‚îÄ models/                 # –ú–æ–¥—É–ª—ñ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–¥–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ whisper_model.py   # faster-whisper
‚îÇ   ‚îú‚îÄ‚îÄ diarization.py     # –î—ñ–∞—Ä–∏–∑–∞—Ü—ñ—è –¥–∏–∫—Ç–æ—Ä—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ transcription_service.py  # –û—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
‚îú‚îÄ‚îÄ download_models.py     # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ static/                # –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üîß –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú—ñ–Ω—ñ–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ |
|-----------|---------|---------------|
| **CPU** | 2 —è–¥—Ä–∞ | 4+ —è–¥–µ—Ä |
| **RAM** | 4GB | 8GB+ (16GB –¥–ª—è large) |
| **Python** | 3.9+ | 3.11+ |
| **GPU** | - | CUDA-—Å—É–º—ñ—Å–Ω–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) |

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ "No module named 'torch'"
```bash
pip install torch torchvision torchaudio
```

### –ü–æ–º–∏–ª–∫–∞ "ffmpeg not found"
```bash
# Ubuntu/Debian
sudo apt install ffmpeg

# macOS
brew install ffmpeg
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∞–º'—è—Ç—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–µ–Ω—à—É –º–æ–¥–µ–ª—å (`tiny` –∞–±–æ `base`)
- –ó–º–µ–Ω—à—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä –∞—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤
- –ó–∞–∫—Ä–∏–π—Ç–µ —ñ–Ω—à—ñ –ø—Ä–æ–≥—Ä–∞–º–∏

## üîí –ë–µ–∑–ø–µ–∫–∞

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å API –∫–ª—é—á: `export API_KEY="your-secret-key"`
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS
4. –û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ API

## üìä –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
- ‚úÖ **Multiprocessing** - –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∞—É–¥—ñ–æ —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
- ‚úÖ **–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏** - beam_size=1, vad_filter=False
- ‚úÖ **–®–≤–∏–¥–∫–µ —Ä–µ—Å–µ–º–ø–ª—ñ–Ω–≥—É** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è soxr
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ñ —á–∞–Ω–∫–∏** - –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Å–µ–≥–º–µ–Ω—Ç—ñ–≤
- ‚úÖ **GPU –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤:
- –ö–æ–Ω—Å–æ–ª—å (stdout)
- –§–∞–π–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `logs/` (—è–∫—â–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞)

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –ø–∞–º'—è—Ç—ñ
4. –°—Ç–≤–æ—Ä—ñ—Ç—å [issue](https://github.com/WarmingZ/transcription-api/issues) –≤ GitHub

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT. –î–∏–≤—ñ—Ç—å—Å—è [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ü–æ–¥—è–∫–∏

- [faster-whisper](https://github.com/guillaumekln/faster-whisper) - —à–≤–∏–¥–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
- [speechbrain](https://speechbrain.github.io/) - –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—è –¥–∏–∫—Ç–æ—Ä—ñ–≤
- [FastAPI](https://fastapi.tiangolo.com/) - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
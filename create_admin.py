#!/usr/bin/env python3
"""
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—Å—å–∫–æ–≥–æ –∫–ª—é—á–∞
"""

from auth import get_api_key_manager

def create_admin_key():
    """–°—Ç–≤–æ—Ä—é—î –ø–µ—Ä—à–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—Å—å–∫–∏–π –∫–ª—é—á"""
    print("üîê –°–¢–í–û–†–ï–ù–ù–Ø –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†–°–¨–ö–û–ì–û –ö–õ–Æ–ß–ê")
    print("=" * 50)
    print("‚ö†Ô∏è  –¶–ï–ô –ö–õ–Æ–ß –î–ê–Ñ –ü–û–í–ù–ò–ô –î–û–°–¢–£–ü –î–û –°–ò–°–¢–ï–ú–ò!")
    print("   –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –π–æ–≥–æ –≤ –Ω–∞–¥—ñ–π–Ω–æ–º—É –º—ñ—Å—Ü—ñ!")
    print()
    
    name = input("üìù –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞: ").strip()
    if not name:
        print("‚ùå –ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é!")
        return
    
    description = input("üìÑ –í–≤–µ–¥—ñ—Ç—å –æ–ø–∏—Å (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ): ").strip()
    
    # –°—Ç–≤–æ—Ä—é—î–º–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—Å—å–∫–∏–π –∫–ª—é—á
    api_key_manager = get_api_key_manager()
    admin_key = api_key_manager.generate_api_key(name, description, is_admin=True)
    
    print()
    print("‚úÖ –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†–°–¨–ö–ò–ô –ö–õ–Æ–ß –°–¢–í–û–†–ï–ù–û!")
    print("=" * 50)
    print(f"üîë –ö–ª—é—á: {admin_key}")
    print(f"üìù –ù–∞–∑–≤–∞: {name}")
    print(f"üìÑ –û–ø–∏—Å: {description}")
    print(f"üëë –¢–∏–ø: –ê–î–ú–Ü–ù–Ü–°–¢–†–ê–¢–û–†")
    print()
    print("üí° –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:")
    print(f"   curl -H 'Authorization: Bearer {admin_key}' http://localhost:8000/admin/api-keys")
    print()
    print("‚ö†Ô∏è  –ó–ë–ï–†–ï–ñ–Ü–¢–¨ –¶–ï–ô –ö–õ–Æ–ß –í –ë–ï–ó–ü–ï–ß–ù–û–ú–£ –ú–Ü–°–¶–Ü!")
    print("   –í—ñ–Ω –¥–∞—î –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è API!")
    print("   –ë–µ–∑ –Ω—å–æ–≥–æ –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–ª—é—á—ñ!")

if __name__ == "__main__":
    create_admin_key()

# üöÄ –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫ Transcription API

## üìã –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

- **Python 3.9+**
- **8GB+ RAM** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 16GB)
- **FFmpeg** –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∞—É–¥—ñ–æ
- **libsndfile** –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∞—É–¥—ñ–æ —Ñ–∞–π–ª–∞–º–∏

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone https://github.com/WarmingZ/transcription-api.git
cd transcription-api
```

### 2Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

#### Ubuntu/Debian:
```bash
sudo apt update
sudo apt install -y python3 python3-pip python3-venv ffmpeg libsndfile1 libsndfile1-dev
```

#### macOS:
```bash
brew install ffmpeg libsndfile
```

#### Windows:
```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å FFmpeg —Ç–∞ libsndfile —á–µ—Ä–µ–∑ conda –∞–±–æ –≤—Ä—É—á–Ω—É
conda install ffmpeg libsndfile
```

### 3Ô∏è‚É£ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# –∞–±–æ
venv\Scripts\activate     # Windows
```

### 4Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pip install --upgrade pip
pip install -r requirements.txt
```

### 5Ô∏è‚É£ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π
```bash
python download_models.py
```

### 6Ô∏è‚É£ –ó–∞–ø—É—Å–∫ API
```bash
python main.py
```

## üåê –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:8000`

### API endpoints
- **POST** `/transcribe` - –ø—Ä–æ—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
- **POST** `/transcribe-with-diarization` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –∑ –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é
- **GET** `/health` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Ä–≤—ñ—Å—É
- **GET** `/docs` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API

### –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```bash
# –ü—Ä–æ—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
curl -X POST "http://localhost:8000/transcribe" \
  -F "file=@audio.mp3" \
  -F "language=uk"

# –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –∑ –¥—ñ–∞—Ä–∏–∑–∞—Ü—ñ—î—é
curl -X POST "http://localhost:8000/transcribe-with-diarization" \
  -F "file=@audio.mp3" \
  -F "language=uk"
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# API –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
export API_KEY="your-secret-key"

# –†–æ–∑–º—ñ—Ä –º–æ–¥–µ–ª—ñ (tiny, base, small, medium, large)
export MODEL_SIZE="small"
```

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –º–æ–¥–µ–ª–µ–π
–ú–æ–¥–µ–ª—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É:
- **tiny** - –Ω–∞–π—à–≤–∏–¥—à–∞, –Ω–∞–π–º–µ–Ω—à–∞ —è–∫—ñ—Å—Ç—å
- **base** - —à–≤–∏–¥–∫–∞, –±–∞–∑–æ–≤–∞ —è–∫—ñ—Å—Ç—å  
- **small** - –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- **medium** - –≤–∏—Å–æ–∫–∞ —è–∫—ñ—Å—Ç—å
- **large** - –Ω–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å, –Ω–∞–π–ø–æ–≤—ñ–ª—å–Ω—ñ—à–∞

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∞ "No module named 'torch'"
```bash
pip install torch torchvision torchaudio
```

### –ü–æ–º–∏–ª–∫–∞ "ffmpeg not found"
```bash
# Ubuntu/Debian
sudo apt install ffmpeg

# macOS
brew install ffmpeg
```

### –ü–æ–º–∏–ª–∫–∞ "libsndfile not found"
```bash
# Ubuntu/Debian
sudo apt install libsndfile1 libsndfile1-dev

# macOS
brew install libsndfile
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∞–º'—è—Ç—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–µ–Ω—à—É –º–æ–¥–µ–ª—å (`tiny` –∞–±–æ `base`)
- –ó–º–µ–Ω—à—ñ—Ç—å —Ä–æ–∑–º—ñ—Ä –∞—É–¥—ñ–æ —Ñ–∞–π–ª—ñ–≤
- –ó–∞–∫—Ä–∏–π—Ç–µ —ñ–Ω—à—ñ –ø—Ä–æ–≥—Ä–∞–º–∏

## üìä –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- **CPU**: 4+ —è–¥–µ—Ä
- **RAM**: 8GB+ (16GB –¥–ª—è –º–æ–¥–µ–ª—ñ large)
- **GPU**: CUDA-—Å—É–º—ñ—Å–Ω–∞ –∫–∞—Ä—Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### –ß–∞—Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó:
- **tiny**: ~0.1x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- **base**: ~0.2x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- **small**: ~0.3x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- **medium**: ~0.5x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- **large**: ~1.0x —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É

## üîí –ë–µ–∑–ø–µ–∫–∞

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å API –∫–ª—é—á: `export API_KEY="your-secret-key"`
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS
4. –û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ API

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤:
- –ö–æ–Ω—Å–æ–ª—å (stdout)
- –§–∞–π–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `logs/` (—è–∫—â–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞)

## üÜò –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –ø–∞–º'—è—Ç—ñ
4. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
